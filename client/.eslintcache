[{"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/index.js":"1","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/App.js":"2","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/reportWebVitals.js":"3","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/key.js":"4","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyCreate.jsx":"5","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/event/EventList.jsx":"6","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/newKey/NewKeyList.jsx":"7","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderList.jsx":"8","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/access/AccessList.jsx":"9","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyActions.jsx":"10","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/dashboard/index.js":"11","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/AuthProvider.js":"12","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderShow.jsx":"13","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyShow.jsx":"14","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/QuickCreateBox.jsx":"15","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderShowActions.jsx":"16","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/util/index.js":"17","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyEdit.jsx":"18","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderEdit.jsx":"19","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/customFields/DisabledInput.jsx":"20","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/customFields/TextButtonField.jsx":"21"},{"size":572,"mtime":1608134531819,"results":"22","hashOfConfig":"23"},{"size":2544,"mtime":1610404337282,"results":"24","hashOfConfig":"23"},{"size":362,"mtime":1608031634838,"results":"25","hashOfConfig":"23"},{"size":717,"mtime":1608900200669,"results":"26","hashOfConfig":"23"},{"size":707,"mtime":1608980699349,"results":"27","hashOfConfig":"23"},{"size":933,"mtime":1608569416512,"results":"28","hashOfConfig":"23"},{"size":700,"mtime":1608753769433,"results":"29","hashOfConfig":"23"},{"size":1969,"mtime":1608739318523,"results":"30","hashOfConfig":"23"},{"size":900,"mtime":1608569470516,"results":"31","hashOfConfig":"23"},{"size":1191,"mtime":1608569453952,"results":"32","hashOfConfig":"23"},{"size":145,"mtime":1608122750456,"results":"33","hashOfConfig":"23"},{"size":2246,"mtime":1610403941133,"results":"34","hashOfConfig":"23"},{"size":5064,"mtime":1609260474714,"results":"35","hashOfConfig":"23"},{"size":1216,"mtime":1608913308474,"results":"36","hashOfConfig":"23"},{"size":462,"mtime":1608215163660,"results":"37","hashOfConfig":"23"},{"size":3454,"mtime":1608753396453,"results":"38","hashOfConfig":"23"},{"size":333,"mtime":1608565751590,"results":"39","hashOfConfig":"23"},{"size":516,"mtime":1608567014856,"results":"40","hashOfConfig":"23"},{"size":1385,"mtime":1608995617360,"results":"41","hashOfConfig":"23"},{"size":589,"mtime":1608988571284,"results":"42","hashOfConfig":"23"},{"size":681,"mtime":1608995326573,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"8vagau",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/index.js",[],["89","90"],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/App.js",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/reportWebVitals.js",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/key.js",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyCreate.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/event/EventList.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/newKey/NewKeyList.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderList.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/access/AccessList.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyActions.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/dashboard/index.js",[],["91","92"],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/AuthProvider.js",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderShow.jsx",["93","94"],"import React from 'react'\nimport { Toolbar, SaveButton, Create, SimpleForm, ReferenceInput, SelectInput, Datagrid, Show, SimpleShowLayout, TextField, DateField, ArrayField, BooleanField, ReferenceManyField, NumberField, useNotify, useRefresh, BooleanInput } from 'react-admin';\nimport { LockOpen} from '@material-ui/icons';\nimport ReaderShowActions from './ReaderShowActions'\nimport TextButtonField from '../customFields/TextButtonField';\n\n\nconst KeyEditToolbar = props => (\n    <Toolbar {...props} >\n        <SaveButton />\n    </Toolbar>\n);\n\nconst ShowPropsExtractor=({children, ...props})=>{\n    const notify=useNotify();\n    const refresh=useRefresh();\n    const {keys=[]}=props.record;\n\n\n    const openDoor=async(port)=>{\n        try {\n            const serverAdress=process.env.REACT_APP_SERVER || \"http://locaholst:5000\";\n            const response=await fetch(`${serverAdress}/opendoor/${props.record.id}?port=${port}`)\n            await response.json();\n            notify(`door ${props.record.id} opened port ${port}`, \"info\")\n        } catch (error) {\n            console.log(error)\n            notify(\"could not open door\", \"error\")\n        }\n    }\n\n    const readerKeyRowStyle = (record, _index) => {\n        return {\n            backgroundColor: record && keys && keys.find(key=>{\n                return ( \n                    key.uid === record.uid && \n                    key.name === record.name &&\n                    key.acctype === record.acctype &&\n                    key.acctype2 === record.acctype2 &&\n                    key.acctype3 === record.acctype3 &&\n                    key.acctype4 === record.acctype4 ) // add back valid until later \n            }) ? '#efe' : 'white',\n        }\n    }\n\n    const onSuccess = () => {\n        notify(`successfully added key to reader`)\n        refresh();\n    };\n\n    return (\n        <SimpleShowLayout {...props}>\n            <TextField source=\"readerName\" />\n            <TextField source=\"ip\" />\n            <DateField source=\"lastPing\" showTime locales=\"de\"/>\n            <TextButtonField onClick={()=>openDoor(1)} label=\"Relay 1 (acctype)\" variant=\"contained\" source=\"acctypeName\">\n                <LockOpen/>\n            </TextButtonField>\n            <TextButtonField onClick={()=>openDoor(2)} label=\"Relay 2 (acctype2)\" variant=\"contained\" source=\"acctype2Name\">\n                <LockOpen/>\n            </TextButtonField>\n            <TextButtonField onClick={()=>openDoor(3)} variant=\"Relay 3 (acctype3)\" variant=\"contained\" source=\"acctype3Name\">\n                <LockOpen/>\n            </TextButtonField>\n            <TextButtonField onClick={()=>openDoor(4)} variant=\"Relay 4 (acctype4)\" variant=\"contained\" source=\"acctype4Name\">\n                <LockOpen/>\n            </TextButtonField>\n            \n            <Create title=\" \" resource={props.resource} onSuccess={onSuccess}>\n                <SimpleForm toolbar={<KeyEditToolbar/>}>\n                    <ReferenceInput label=\"ADD KEY TO READER\" reference=\"key\" source=\"key_id\"  required>\n                        <SelectInput optionText=\"name\" />\n                    </ReferenceInput>\n                    <BooleanInput label=\"acctype\"  source=\"acctype\"/>\n                    <BooleanInput label=\"acctype2\" source=\"acctype2\"/>\n                    <BooleanInput label=\"acctype3\" source=\"acctype3\"/>\n                    <BooleanInput label=\"acctype4\" source=\"acctype4\"/>\n                </SimpleForm>\n            </Create>\n\n            {/*TODO: make this a referencefield too after creating the route  */}\n            <ArrayField label=\"KEYS IN THE DB\" source=\"readerKeys\" >\n                <Datagrid>\n                    <TextField label=\"name\" source=\"key.name\" />\n                    <TextField label=\"UID\" source=\"key.uid\" />\n                    <DateField label=\"valid\" source=\"key.validUntil\" showTime locales=\"de\"/>\n                    <BooleanField label=\"one time\" source=\"key.isOneTimeCode\" />\n                    <NumberField source=\"acctype\"  />\n                    <NumberField source=\"acctype2\" />\n                    <NumberField source=\"acctype3\" />\n                    <NumberField source=\"acctype4\" />\n                </Datagrid>\n            </ArrayField>\n\n            <ReferenceManyField reference=\"devicekey\" target=\"readerId\" label=\"KEYS ON READER\" {...props}>\n                <Datagrid rowStyle={readerKeyRowStyle} {...props}>\n                    <TextField source=\"name\" />\n                    <TextField source=\"uid\" />\n                    <DateField source=\"validUntil\" showTime locales=\"de\"/>\n                    <NumberField source=\"acctype\" />\n                    <NumberField source=\"acctype2\" />\n                    <NumberField source=\"acctype3\" />\n                    <NumberField source=\"acctype4\" />\n                </Datagrid>\n            </ReferenceManyField>\n            \n\n        </SimpleShowLayout>\n    )\n}\n\n\nconst ReaderShow = (props) => {\n    return (\n        <Show  actions={<ReaderShowActions/>}  {...props}>\n            <ShowPropsExtractor/>\n        </Show>\n    )\n}\n\nexport default ReaderShow\n","/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyShow.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/QuickCreateBox.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderShowActions.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/util/index.js",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/key/KeyEdit.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/reader/ReaderEdit.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/customFields/DisabledInput.jsx",[],"/home/dci-st118/Desktop/door/mqtt-door-access-control/client/src/components/customFields/TextButtonField.jsx",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"95","replacedBy":"99"},{"ruleId":"97","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":62,"column":85,"nodeType":"103","endLine":62,"endColumn":104},{"ruleId":"101","severity":1,"message":"102","line":65,"column":85,"nodeType":"103","endLine":65,"endColumn":104},"no-native-reassign",["104"],"no-negated-in-lhs",["105"],["104"],["105"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation"]